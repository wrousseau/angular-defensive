{"version":3,"sources":["angular-defensive.min.js","/source/angular-defensive.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","global","factory","exports","module","define","amd","angularDefensive","this","DefensiveConfiguration","configurations","value","configurationName","configuration","Configuration","$http","$templateCache","getTemplate","confCase","Promise","resolve","hasOwnProperty","template","get","templateUrl","cache","headers","Accept","then","response","data","getDefensiveTemplate","self","reject","cases","shift","check","push","moduleName$2","angular","provider","NgDefensive","$compile","restrict","link","scope","element","attrs","ngDefensive","replaceWith","moduleName$1","directive","moduleName"],"mappings":"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","file":"angular-defensive.min.js","sourcesContent":["var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.angularDefensive = factory();\n})(this, function () {\n\t'use strict';\n\n\tvar DefensiveConfiguration = (function () {\n\t\tfunction DefensiveConfiguration() {\n\t\t\t_classCallCheck(this, DefensiveConfiguration);\n\n\t\t\tthis.configurations = {};\n\t\t}\n\n\t\t_createClass(DefensiveConfiguration, [{\n\t\t\tkey: 'registerConfiguration',\n\t\t\tvalue: function registerConfiguration(configurationName) {\n\t\t\t\tvar configuration = new this.Configuration();\n\t\t\t\tthis.configurations[configurationName] = configuration;\n\t\t\t\treturn configuration;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '$get',\n\t\t\tvalue: function $get($http, $templateCache) {\n\t\t\t\tvar configurations = this.configurations;\n\t\t\t\treturn {\n\t\t\t\t\tgetTemplate: function getTemplate(confCase) {\n\t\t\t\t\t\treturn new Promise(function (resolve) {\n\t\t\t\t\t\t\tif (confCase.hasOwnProperty('template')) {\n\t\t\t\t\t\t\t\tresolve(confCase.template);\n\t\t\t\t\t\t\t} else if (confCase.hasOwnProperty('templateUrl')) {\n\t\t\t\t\t\t\t\t$http.get(confCase.templateUrl, {\n\t\t\t\t\t\t\t\t\tcache: $templateCache,\n\t\t\t\t\t\t\t\t\theaders: { Accept: 'text/html' }\n\t\t\t\t\t\t\t\t}).then(function (response) {\n\t\t\t\t\t\t\t\t\tresolve(response.data);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tgetDefensiveTemplate: function getDefensiveTemplate(configurationName) {\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\t\tif (!configurations.hasOwnProperty(configurationName)) {\n\t\t\t\t\t\t\t\treturn reject('Configuration ' + configurationName + ' does not exist');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar configuration = configurations[configurationName];\n\t\t\t\t\t\t\twhile (configuration.cases.length) {\n\t\t\t\t\t\t\t\tvar confCase = configuration.cases.shift();\n\t\t\t\t\t\t\t\tif (confCase.check()) {\n\t\t\t\t\t\t\t\t\treturn self.getTemplate(confCase).then(function (template) {\n\t\t\t\t\t\t\t\t\t\treturn resolve(template);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'Configuration',\n\t\t\tget: function get() {\n\t\t\t\treturn DefensiveConfiguration.Configuration;\n\t\t\t}\n\t\t}], [{\n\t\t\tkey: 'factory',\n\t\t\tvalue: function factory() {\n\t\t\t\treturn new DefensiveConfiguration();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'Configuration',\n\t\t\tget: function get() {\n\t\t\t\treturn (function () {\n\t\t\t\t\tfunction Configuration() {\n\t\t\t\t\t\t_classCallCheck(this, Configuration);\n\n\t\t\t\t\t\tthis.cases = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t_createClass(Configuration, [{\n\t\t\t\t\t\tkey: 'addCase',\n\t\t\t\t\t\tvalue: function addCase(confCase) {\n\t\t\t\t\t\t\tthis.cases.push(confCase);\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\t\t\t\t\t}]);\n\n\t\t\t\t\treturn Configuration;\n\t\t\t\t})();\n\t\t\t}\n\t\t}]);\n\n\t\treturn DefensiveConfiguration;\n\t})();\n\n\tvar moduleName$2 = 'ngDefensive.services';\n\n\tangular.module(moduleName$2, []).provider('DefensiveConfiguration', DefensiveConfiguration.factory);\n\n\tvar NgDefensive = (function () {\n\t\tfunction NgDefensive($compile, DefensiveConfiguration) {\n\t\t\t_classCallCheck(this, NgDefensive);\n\n\t\t\tthis.restrict = 'A';\n\t\t\tthis.link = function (scope, element, attrs) {\n\t\t\t\tDefensiveConfiguration.getDefensiveTemplate(attrs.ngDefensive).then(function (template) {\n\t\t\t\t\telement.replaceWith($compile(template)(scope));\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\t_createClass(NgDefensive, null, [{\n\t\t\tkey: 'factory',\n\t\t\tvalue: function factory($compile, DefensiveConfiguration) {\n\t\t\t\treturn new NgDefensive($compile, DefensiveConfiguration);\n\t\t\t}\n\t\t}]);\n\n\t\treturn NgDefensive;\n\t})();\n\n\tvar moduleName$1 = 'ngDefensive.directives';\n\n\tangular.module(moduleName$1, []).directive('ngDefensive', NgDefensive.factory);\n\n\tvar moduleName = 'ngDefensive';\n\n\tvar app = angular.module(moduleName, [moduleName$1, moduleName$2]);\n\n\treturn moduleName;\n});\n//# sourceMappingURL=angular-defensive.js.map\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\tglobal.angularDefensive = factory();\n}(this, function () { 'use strict';\n\n\tclass DefensiveConfiguration {\n\n\t  constructor() {\n\t    this.configurations = {};\n\t  }\n\n\t  static get Configuration() {\n\t    return class Configuration {\n\t      constructor() {\n\t        this.cases = [];\n\t      }\n\n\t      addCase(confCase) {\n\t        this.cases.push(confCase);\n\t        return this;\n\t      }\n\t    };\n\t  }\n\n\t  get Configuration() {\n\t    return DefensiveConfiguration.Configuration;\n\t  }\n\n\t  registerConfiguration(configurationName) {\n\t    let configuration = new this.Configuration();\n\t    this.configurations[configurationName] = configuration;\n\t    return configuration;\n\t  }\n\n\t  $get($http, $templateCache) {\n\t    let configurations = this.configurations;\n\t    return {\n\t      getTemplate(confCase) {\n\t        return new Promise(function(resolve) {\n\t          if (confCase.hasOwnProperty('template')) {\n\t            resolve(confCase.template);\n\t          } else if (confCase.hasOwnProperty('templateUrl')) {\n\t            $http\n\t              .get(confCase.templateUrl, {\n\t                cache: $templateCache,\n\t                headers: {Accept: 'text/html'}\n\t              })\n\t              .then(function(response) {\n\t                resolve(response.data);\n\t              });\n\t          }\n\t        });\n\t      },\n\t      getDefensiveTemplate(configurationName) {\n\t        let self = this;\n\t        return new Promise(function(resolve, reject) {\n\t          if (!configurations.hasOwnProperty(configurationName)) {\n\t            return reject(`Configuration ${configurationName} does not exist`);\n\t          }\n\t          let configuration = configurations[configurationName];\n\t          while (configuration.cases.length) {\n\t            let confCase = configuration.cases.shift();\n\t            if (confCase.check()) {\n\t              return self.getTemplate(confCase)\n\t              .then(function(template) {\n\t                return resolve(template);\n\t              });\n\t            }\n\t          }\n\t        });\n\t      }\n\t    };\n\t  }\n\n\t  static factory() {\n\t    return new DefensiveConfiguration();\n\t  }\n\n\t}\n\n\tvar moduleName$2 = 'ngDefensive.services';\n\n\tangular.module(moduleName$2, [])\n\t  .provider('DefensiveConfiguration', DefensiveConfiguration.factory);\n\n\tclass NgDefensive {\n\n\t  constructor($compile, DefensiveConfiguration) {\n\t    this.restrict = 'A';\n\t    this.link = function(scope, element, attrs) {\n\t      DefensiveConfiguration.getDefensiveTemplate(attrs.ngDefensive)\n\t      .then(function(template) {\n\t        element.replaceWith($compile(template)(scope));\n\t      });\n\t    };\n\t  }\n\n\t  static factory($compile, DefensiveConfiguration) {\n\t    return new NgDefensive($compile, DefensiveConfiguration);\n\t  }\n\n\t}\n\n\tvar moduleName$1 = 'ngDefensive.directives';\n\n\tangular.module(moduleName$1, [])\n\t  .directive('ngDefensive', NgDefensive.factory);\n\n\tvar moduleName = 'ngDefensive';\n\n\tvar app = angular.module(moduleName, [\n\t\tmoduleName$1,\n\t\tmoduleName$2\n\t]);\n\n\treturn moduleName;\n\n}));"],"sourceRoot":"/source/"}